"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[38],{1939:function(e,t,n){var r=n(6314),o=n(3239),i=n(184);t.Z=function(){return(0,i.jsx)(r.Z,{sx:{color:"grey.600"},spacing:2,direction:"row",justifyContent:"center",children:(0,i.jsx)(o.Z,{color:"inherit"})})}},3038:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var r=n(1413),o=n(4165),i=n(5861),s=n(9439),a=n(4554),c=n(9164),l=n(3543),u=n(4070),p=n(6314),d=n(890),m=n(68),h=n(3044),x=n(1918),f=n(4721),v=n(6151),Z=n(7621),j=n(2169),g=n(9504),y=n(2791),S=n(9434),b=n(5717),w=n(7689),k=(n(1006),n(1243)),I=n(8431),T=n(9029),C=n(6517),A=n(2888),O=n(6144),G=n(4801),W=n(9313),_=n(1939),E=n(2554),M=n(6934),P=n(4708),z=n(5519),R=n(1748),B=n(184),N=function(e){var t=e.comment;return(0,B.jsx)(a.Z,{my:"1em",children:(0,B.jsxs)(a.Z,{display:"flex",alignItems:"center",children:[(0,B.jsx)(h.Z,{sx:{alignSelf:"flex-start"},src:t.profileImage,alt:t.name}),(0,B.jsxs)(a.Z,{mx:"1em",children:[(0,B.jsx)(d.Z,{variant:"p",component:"p",fontWeight:800,children:t.name}),(0,B.jsx)(d.Z,{variant:"p",component:"p",fontSize:"14px",color:"GrayText",children:t.bio}),(0,B.jsx)(d.Z,{variant:"p",component:"p",color:"GrayText",children:(0,C.p)(t.createdAt)}),(0,B.jsx)(a.Z,{my:"1em",children:(0,B.jsx)(d.Z,{variant:"p",component:"p",fontWeight:800,children:t.content})})]})]})})},D=n(3392),F=n(9709),H=n(169),L=n(148),U=(0,M.ZP)("div")((function(e){var t=e.theme;return{height:"100%",backgroundColor:"light"===t.palette.mode?z.Z[100]:t.palette.background.default}}));var V=function(e){var t=e.isCommentModalOpen,n=e.setIsCommentModalOpen,r=e.blogId,m=(0,y.useState)(""),h=(0,s.Z)(m,2),x=h[0],f=h[1],Z=(0,y.useState)([]),j=(0,s.Z)(Z,2),g=j[0],b=j[1],w=(0,S.I0)(),C=(0,S.v9)(T.VR),A=((0,S.v9)(T.Bj),(0,S.v9)(T.x$)),O=(0,S.v9)(T.f8),G=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,i,s,a,c,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={content:x},e.prev=2,w((0,I.GA)()),e.next=6,k.Z.post("/api/v1/comments/createComment?postId=".concat(r," "),n);case 6:i=e.sent,i.data,w((0,I.pX)("comment posted")),w((0,I.S1)(!0)),setTimeout((function(){w((0,I.S1)(!1))}),5e3),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(2),w((0,I.Go)((null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.msg)||"failed to comment")),w((0,I.S1)(!0)),w((0,I.pX)((null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.msg)||"failed to comment")),setTimeout((function(){w((0,I.S1)(!1))}),5e3);case 19:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,y.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w((0,I.GA)()),e.prev=1,e.next=4,k.Z.get("/api/v1/comments/allComments?post=".concat(r));case 4:t=e.sent,n=t.data,b(null===n||void 0===n?void 0:n.comments[0].comments),w((0,I.S1)(!0)),setTimeout((function(){w((0,I.S1)(!1))}),5e3),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),w((0,I.Go)(!0)),w((0,I.S1)(!0)),setTimeout((function(){w((0,I.S1)(!1))}),5e3);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,B.jsxs)(a.Z,{children:[(0,B.jsx)(l.Z,{open:A,anchorOrigin:{horizontal:"center",vertical:"top"},children:(0,B.jsx)(u.Z,{severity:O?"error":"success",children:O})}),(0,B.jsxs)(U,{children:[(0,B.jsx)(P.ZP,{}),(0,B.jsx)(E.xB,{styles:{".MuiDrawer-root > .MuiPaper-root":{height:"calc(50% - ".concat(56,"px)"),overflow:"scroll"}}}),(0,B.jsx)(R.Z,{anchor:"bottom",open:t,swipeAreaWidth:56,disableSwipeToOpen:!1,ModalProps:{keepMounted:!0},children:(0,B.jsxs)(c.Z,{children:[(0,B.jsxs)(a.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,B.jsxs)(d.Z,{fontSize:"2rem",variant:"p",component:"p",fontWeight:800,color:"GrayText",children:["Responses: ",g.length]}),(0,B.jsx)(v.Z,{onClick:function(){return n(!1)},variant:"contained",color:"inherit",startIcon:(0,B.jsx)(H.Z,{fontSize:"large"})})]}),(0,B.jsxs)(p.Z,{children:[(0,B.jsxs)(a.Z,{component:"form",my:"1em",onSubmit:G,children:[(0,B.jsx)(D.Z,{sx:{width:"60%"},variant:"outlined",multiline:!0,placeholder:"write a comment ? \u270d",label:"comment",onChange:function(e){f(e.target.value)},name:"content"}),(0,B.jsx)(a.Z,{my:"1em",children:(0,B.jsx)(F.Z,{loading:C,type:"submit",variant:"text",color:"inherit",startIcon:(0,B.jsx)(L.Z,{fontSize:"medium"}),children:"Post"})})]}),g.length>0?g.map((function(e){return(0,B.jsx)(N,{comment:e},e.id)})):(0,B.jsx)(d.Z,{my:"2em",variant:"p",component:"p",fontSize:"1.5rem",fontWeight:"bold",children:"No Comments On This Post Yet"})]})]})})]})]})},X={infinite:!0,autoplay:!0,speed:1e3,slidesToShow:2,slidesToScroll:1,swipeToSlide:!0,arrows:!1,dots:!1,pauseOnHover:!0,responsive:[{breakpoint:1200,settings:{arrows:!1,slidesToShow:2}},{breakpoint:768,settings:{arrows:!1,slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,slidesToShow:1}}]},$=function(){var e,t=(0,y.useState)({}),n=(0,s.Z)(t,2),I=n[0],E=n[1],M=(0,y.useState)([]),P=(0,s.Z)(M,2),z=P[0],R=P[1],N=(0,y.useState)({}),D=(0,s.Z)(N,2),F=D[0],H=D[1],L=(0,y.useState)(!1),U=(0,s.Z)(L,2),$=U[0],K=U[1],Y=(0,y.useState)(!1),q=(0,s.Z)(Y,2),J=q[0],Q=q[1],ee=(0,y.useState)(!1),te=(0,s.Z)(ee,2),ne=te[0],re=te[1],oe=(0,y.useState)(!1),ie=(0,s.Z)(oe,2),se=ie[0],ae=ie[1],ce=(0,w.UO)().blogId;(0,S.I0)(),(0,S.v9)(T.VR),(0,S.v9)(T.Bj),(0,S.v9)(T.x$),(0,S.v9)(T.f8);(0,y.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Z.get("/api/v1/posts/blogs?post=".concat(ce));case 3:t=e.sent,n=t.data,E(null===n||void 0===n?void 0:n.post),Q(!0),setTimeout((function(){Q(!1)}),3e3),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),Q(!0),setTimeout((function(){Q(!1)}),3e3),K(!0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[F]);var le=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.prev=1,e.next=4,k.Z.patch("/api/v1/posts/likepost?post=".concat(ce));case 4:t=e.sent,n=t.data,H(null===n||void 0===n?void 0:n.post),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!1),e.prev=1,e.next=4,k.Z.patch("/api/v1/posts/unlikepost?post=".concat(ce));case 4:t=e.sent,n=t.data,H(null===n||void 0===n?void 0:n.post),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();(0,y.useEffect)((function(){if(I){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Z.get("/api/v1/posts/getMoreUserPosts?postId=".concat(ce,"&userId=").concat(null===I||void 0===I?void 0:I.createdBy));case 3:t=e.sent,n=t.data,R(n.filteredPosts),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[I]);return(0,B.jsxs)(a.Z,{children:[Object.keys(I).length>0&&(0,B.jsx)(V,{blogId:null===I||void 0===I?void 0:I._id,isCommentModalOpen:se,setIsCommentModalOpen:ae}),(0,B.jsxs)(c.Z,{children:[$&&(0,B.jsx)(l.Z,{open:J,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,B.jsx)(u.Z,{severity:"error",children:"could not fetch blog"})}),Object.keys(I).length>0?(0,B.jsx)(p.Z,{direction:"column",alignItems:"center",display:"flex",mt:"3em",children:(0,B.jsxs)(a.Z,{width:{xs:"100%",sm:"70%"},children:[(0,B.jsx)(d.Z,{variant:"h2",component:"h3",fontWeight:{xs:800,sm:800},fontSize:{xs:"1.5rem",sm:"3rem"},children:I.title}),(0,B.jsxs)(a.Z,{display:"flex",alignItems:"center",my:"2em",position:"relative",children:[(0,B.jsx)(m.Z,{title:"".concat(I.name),children:(0,B.jsx)(h.Z,{sx:{alignSelf:"flex-start",width:56,height:56},src:null===I||void 0===I?void 0:I.profileImage,alt:null===I||void 0===I?void 0:I.profileImage})}),(0,B.jsxs)(a.Z,{ml:".5em",mb:{xs:"1em",sm:"0em"},children:[(0,B.jsx)(d.Z,{component:"p",variant:"p",children:null===I||void 0===I?void 0:I.name}),I.bio&&(0,B.jsx)(d.Z,{variant:"p",component:"p",my:".5em",color:"GrayText",children:I.bio}),(0,B.jsxs)(d.Z,{component:"p",variant:"p",color:"GrayText",children:["Published on",(0,B.jsx)(d.Z,{ml:".5em",component:"span",variant:"span",children:(0,C.p)(null===I||void 0===I?void 0:I.createdAt)}),(0,B.jsx)(a.Z,{my:"1em",children:(0,B.jsx)(x.Z,{variant:"filled",label:null===I||void 0===I?void 0:I.tags,size:"large"})})]})]}),(0,B.jsxs)(d.Z,{color:"GrayText",position:"absolute",bottom:{xs:"-1.5rem",sm:"-1rem"},right:"0",component:"p",variant:"p",children:["last updated: ",(0,C.p)(I.updatedAt)]})]}),(0,B.jsx)(f.Z,{}),(0,B.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",my:"1em",children:[(0,B.jsxs)(p.Z,{direction:"row",children:[(0,B.jsx)(m.Z,{title:"like this blog post",children:(0,B.jsx)(v.Z,{startIcon:ne?(0,B.jsx)(O.Z,{onClick:ue}):(0,B.jsx)(A.Z,{onClick:le}),variant:"text",color:"inherit",children:null===I||void 0===I?void 0:I.likes})}),(0,B.jsx)(m.Z,{title:"comments",children:(0,B.jsx)(v.Z,{startIcon:(0,B.jsx)(G.Z,{}),onClick:function(){return I._id,void ae(!0)},variant:"text",color:"inherit",children:null===I||void 0===I||null===(e=I.comments)||void 0===e?void 0:e.length})})]}),(0,B.jsx)(m.Z,{title:"save this blog post",children:(0,B.jsx)(v.Z,{startIcon:(0,B.jsx)(W.Z,{fontSize:"large"}),variant:"text",color:"inherit"})})]}),(0,B.jsx)(f.Z,{}),(0,B.jsx)("img",{style:{margin:"1em 0"},width:"100%",src:null===I||void 0===I?void 0:I.image,alt:"blog-".concat(null===I||void 0===I?void 0:I._id)}),(0,B.jsx)(d.Z,{variant:"p",lineHeight:"30px",my:"1em",fontWeight:400,component:"p",children:null===I||void 0===I?void 0:I.description}),(0,B.jsxs)(a.Z,{bgcolor:"#FAFAFA",p:"1em",children:[(0,B.jsx)(a.Z,{display:"flex",alignItems:{xs:"center",sm:"flex-start"},justifyContent:{xs:"center",sm:"flex-start"},children:(0,B.jsxs)(a.Z,{flex:{xs:1,sm:2},py:"1em",children:[(0,B.jsx)("img",{style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"50%"},src:I.profileImage,alt:I.name}),(0,B.jsxs)(d.Z,{component:"h3",variant:"p",lineHeight:"30px",fontWeight:800,children:["Written by ",I.name]}),(0,B.jsx)(d.Z,{component:"h3",variant:"p",lineHeight:"30px",fontWeight:400,color:"GrayText",children:I.bio})]})}),(0,B.jsx)(f.Z,{}),z.length>0&&(0,B.jsxs)(a.Z,{my:"2em",children:[(0,B.jsxs)(d.Z,{py:"2em",component:"p",variant:"p",fontWeight:600,children:["More From ",I.name," \ud83d\udc47"]}),(0,B.jsx)(a.Z,{children:(0,B.jsx)(b.Z,(0,r.Z)((0,r.Z)({},X),{},{className:"slider-styles",children:z.map((function(e){return(0,B.jsxs)(Z.Z,{maxWidth:250,sx:{height:"450px"},children:[(0,B.jsx)(j.Z,{component:"img",alt:e.title,height:"140",image:e.image}),(0,B.jsxs)(g.Z,{children:[(0,B.jsxs)(a.Z,{display:"flex",alignItems:"center",children:[(0,B.jsx)(h.Z,{src:e.profileImage,alt:e.name}),(0,B.jsx)(d.Z,{ml:".5em",component:"p",variant:"p",fontWeight:200,children:e.name})]}),(0,B.jsx)(d.Z,{maxWidth:300,my:".5em",component:"h3",variant:"p",fontWeight:800,children:e.title}),(0,B.jsxs)(d.Z,{maxWidth:400,my:".5em",lineHeight:"25px",component:"p",variant:"p",color:"GrayText",children:[e.description.slice(0,150),"..."]}),(0,B.jsx)(x.Z,{variant:"filled",label:e.tags})]})]},e._id)}))}))})]})]})]})}):(0,B.jsx)(a.Z,{mt:"5em",children:(0,B.jsx)(_.Z,{})})]})]})}},9029:function(e,t,n){n.d(t,{Bj:function(){return s},VR:function(){return o},f8:function(){return i},rs:function(){return r},x$:function(){return a}});var r=function(e){return e.actions},o=function(e){return e.actions.isLoading},i=function(e){return e.actions.error},s=function(e){return e.actions.snackBarMessage},a=function(e){return e.actions.isSnackBarOpen}},8431:function(e,t,n){n.d(t,{GA:function(){return o},Go:function(){return a},S1:function(){return i},pX:function(){return s}});var r=n(5627).ACTION_ACTION_TYPES,o=function(){return{type:r.SET_IS_LOADING}},i=function(e){return{type:r.SET_SNACKBAR_OPEN,payload:e}},s=function(e){return{type:r.SET_SNACKBAR_MESSAGE,payload:e}},a=function(e){return{type:r.SET_ERROR,payload:e}}},6517:function(e,t,n){n.d(t,{p:function(){return r}});var r=function(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}},1006:function(){}}]);
//# sourceMappingURL=38.f5ed1d4a.chunk.js.map